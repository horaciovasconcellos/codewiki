# =============================================================================
# CODEWIKI ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and update with your configuration
# NEVER commit .env with real credentials to version control!

# =============================================================================
# MySQL Database Configuration
# =============================================================================
MYSQL_HOST=mysql-master
MYSQL_PORT=3306
MYSQL_USER=app_user
MYSQL_PASSWORD=apppass123
MYSQL_DATABASE=auditoria_db
MYSQL_ROOT_PASSWORD=rootpass123

# MySQL Connection Pool
MYSQL_CONNECTION_LIMIT=10
MYSQL_QUEUE_LIMIT=0

# =============================================================================
# API Configuration
# =============================================================================
# Backend API port
API_PORT=3000
PORT=3000

# Node Environment: development | production | test
NODE_ENV=development

# API URL (used by frontend)
API_URL=http://localhost:3000

# =============================================================================
# JWT Authentication
# =============================================================================
# IMPORTANT: Change JWT_SECRET in production to a strong random string!
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-key-change-in-production

# Token expiration times
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Password hashing rounds (bcrypt)
BCRYPT_ROUNDS=10

# =============================================================================
# Frontend Configuration (Vite)
# =============================================================================
VITE_API_URL=http://localhost:3000
VITE_APP_NAME=CodeWiki
VITE_APP_VERSION=2.0.0

# =============================================================================
# CORS Configuration
# =============================================================================
# Allowed origins (comma-separated for multiple)
CORS_ORIGIN=http://localhost:5173

# CORS credentials
CORS_CREDENTIALS=true

# =============================================================================
# Logging
# =============================================================================
# Log level: error | warn | info | debug
LOG_LEVEL=info

# Log to file
LOG_TO_FILE=true
LOG_FILE_PATH=logs/app.log

# =============================================================================
# Security
# =============================================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Session configuration
SESSION_SECRET=your-session-secret-change-in-production

# =============================================================================
# File Upload
# =============================================================================
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760

# =============================================================================
# Azure DevOps Integration (Optional)
# =============================================================================
AZURE_DEVOPS_ORG=
AZURE_DEVOPS_TOKEN=
AZURE_DEVOPS_PROJECT=

# =============================================================================
# Email Configuration (Optional)
# =============================================================================
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@codewiki.com

# =============================================================================
# Application URLs
# =============================================================================
# For production deployment
APP_URL=http://localhost:5173
API_BASE_URL=http://localhost:3000

# =============================================================================
# Docker Configuration Reference
# =============================================================================
# These ports are configured in docker-compose.yml
# Frontend (Vite): 5173
# Backend API: 3000
# MySQL Master: 3306
# MySQL Slave: 3307
# MkDocs: 8000

# =============================================================================
# Health Checks
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_SWAGGER=true
ENABLE_METRICS=false
ENABLE_DEBUG_LOGS=false
